var JsSearch;!function(e){}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],r=0,n=e.length;n>r;++r)for(var i="",a=r;n>a;++a)i+=e.charAt(a),t.push(i);return t},e}();e.AllSubstringsIndexStrategy=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.expandToken=function(e){return e?[e]:[]},e}();e.ExactWordIndexStrategy=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],r="",n=0,i=e.length;i>n;++n)r+=e.charAt(n),t.push(r);return t},e}();e.PrefixIndexStrategy=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){}(JsSearch||(JsSearch={}));var JsSearch;!function(e){}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.prune=function(e){for(var t={},r=0,n=e.length;n>r;r++){var i=e[r];if(0===r)for(var a in i)t[a]=i[a];else for(var a in t)i[a]||delete t[a]}return t},e}();e.AllWordsMustMatchPruningStrategy=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.prune=function(e){for(var t={},r=0,n=e.length;n>r;r++){var i=e[r];for(var a in i)t[a]=i[a]}return t},e}();e.AnyWordsThatMatchPruningStrategy=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.trim():""},e}();e.CaseSensitiveSanitizer=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();e.LowerCaseSanitizer=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){}(JsSearch||(JsSearch={}));var JsSearch;!function(e){}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(/[^a-zA-Z0-9\-']+/).filter(function(e){return!!e})},e}();e.SimpleTokenizer=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function t(t){this.uidFieldName_=t,this.indexStrategy_=new e.PrefixIndexStrategy,this.pruningStrategy=new e.AllWordsMustMatchPruningStrategy,this.sanitizer_=new e.LowerCaseSanitizer,this.tokenizer_=new e.SimpleTokenizer,this.documents_=[],this.searchableFieldsMap_={},this.searchIndex_={}}return Object.defineProperty(t.prototype,"indexStrategy",{get:function(){return this.indexStrategy_},set:function(e){if(this.initialized_)throw Error("IIndexStrategy cannot be set after initialization");this.indexStrategy_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pruningStrategy",{get:function(){return this.pruningStrategy_},set:function(e){this.pruningStrategy_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sanitizer",{get:function(){return this.sanitizer_},set:function(e){if(this.initialized_)throw Error("ISanitizer cannot be set after initialization");this.sanitizer_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenizer",{get:function(){return this.tokenizer_},set:function(e){if(this.initialized_)throw Error("ITokenizer cannot be set after initialization");this.tokenizer_=e},enumerable:!0,configurable:!0}),t.prototype.addDocument=function(e){this.addDocuments([e])},t.prototype.addDocuments=function(e){this.documents_.push.apply(this.documents_,e),this.indexDocuments_(e,Object.keys(this.searchableFieldsMap_))},t.prototype.addIndex=function(e){this.searchableFieldsMap_[e]=!0,this.indexDocuments_(this.documents_,[e])},t.prototype.search=function(e){for(var t=this.tokenizer_.tokenize(this.sanitizer_.sanitize(e)),r=[],n=0,i=t.length;i>n;n++){var a=t[n];r.push(this.searchIndex_[a]||{})}var o=this.pruningStrategy_.prune(r),s=[];for(var h in o)s.push(o[h]);return s},t.prototype.indexDocuments_=function(e,t){this.initialized_=!0;for(var r=0,n=e.length;n>r;r++)for(var i=e[r],a=i[this.uidFieldName_],o=0,s=t.length;s>o;o++){var h=t[o],c=i[h];if("string"==typeof c)for(var u=this.tokenizer_.tokenize(this.sanitizer_.sanitize(c)),f=0,S=u.length;S>f;f++)for(var l=u[f],p=this.indexStrategy_.expandToken(l),d=0,y=p.length;y>d;d++){var g=p[d];this.searchIndex_[g]||(this.searchIndex_[g]={}),this.searchIndex_[g][a]=i}}},t}();e.Search=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function e(e,t){this.stemmingFunction_=e,this.tokenizer_=t}return e.prototype.tokenize=function(e){return this.tokenizer_.tokenize(e).map(function(e){return this.stemmingFunction_(e)},this)},e}();e.StemmingTokenizer=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function t(e){this.tokenizer_=e}return t.prototype.tokenize=function(t){return this.tokenizer_.tokenize(t).filter(function(t){return t&&e.StopWordsMap[t]!==t})},t}();e.StopWordsTokenizer=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){var t=function(){function t(t,r,n){this.indexStrategy_=t||new e.PrefixIndexStrategy,this.sanitizer_=r||new e.LowerCaseSanitizer,this.wrapperTagName_=n||"mark"}return t.prototype.highlight=function(e,t){for(var r=this.wrapText_("").length,n={},i=0,a=t.length;a>i;i++)for(var o=this.sanitizer_.sanitize(t[i]),s=this.indexStrategy_.expandToken(o),h=0,c=s.length;c>h;h++){var u=s[h];n[u]?n[u].push(o):n[u]=[o]}for(var f="",S="",l=0,i=0,p=e.length;p>i;i++){var d=e.charAt(i);" "===d?(f="",S="",l=i+1):(f+=d,S+=this.sanitizer_.sanitize(d)),n[S]&&n[S].indexOf(S)>=0&&(f=this.wrapText_(f),e=e.substring(0,l)+f+e.substring(i+1),i+=r,p+=r)}return e},t.prototype.wrapText_=function(e){return"<"+this.wrapperTagName_+">"+e+"</"+this.wrapperTagName_+">"},t}();e.TokenHighlighter=t}(JsSearch||(JsSearch={}));var JsSearch;!function(e){e.StopWordsMap={a:"a",able:"able",about:"about",across:"across",after:"after",all:"all",almost:"almost",also:"also",am:"am",among:"among",an:"an",and:"and",any:"any",are:"are",as:"as",at:"at",be:"be",because:"because",been:"been",but:"but",by:"by",can:"can",cannot:"cannot",could:"could",dear:"dear",did:"did","do":"do",does:"does",either:"either","else":"else",ever:"ever",every:"every","for":"for",from:"from",get:"get",got:"got",had:"had",has:"has",have:"have",he:"he",her:"her",hers:"hers",him:"him",his:"his",how:"how",however:"however",i:"i","if":"if","in":"in",into:"into",is:"is",it:"it",its:"its",just:"just",least:"least",let:"let",like:"like",likely:"likely",may:"may",me:"me",might:"might",most:"most",must:"must",my:"my",neither:"neither",no:"no",nor:"nor",not:"not",of:"of",off:"off",often:"often",on:"on",only:"only",or:"or",other:"other",our:"our",own:"own",rather:"rather",said:"said",say:"say",says:"says",she:"she",should:"should",since:"since",so:"so",some:"some",than:"than",that:"that",the:"the",their:"their",them:"them",then:"then",there:"there",these:"these",they:"they","this":"this",tis:"tis",to:"to",too:"too",twas:"twas",us:"us",wants:"wants",was:"was",we:"we",were:"were",what:"what",when:"when",where:"where",which:"which","while":"while",who:"who",whom:"whom",why:"why",will:"will","with":"with",would:"would",yet:"yet",you:"you",your:"your"}}(JsSearch||(JsSearch={}));