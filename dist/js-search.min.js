var JsSearch;!function(t){}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.expandToken=function(t){for(var e=[],r=0,n=t.length;n>r;++r)for(var i="",a=r;n>a;++a)i+=t.charAt(a),e.push(i);return e},t}();t.AllSubstringsIndexStrategy=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.expandToken=function(t){return t?[t]:[]},t}();t.ExactWordIndexStrategy=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.expandToken=function(t){for(var e=[],r="",n=0,i=t.length;i>n;++n)r+=t.charAt(n),e.push(r);return e},t}();t.PrefixIndexStrategy=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){}(JsSearch||(JsSearch={}));var JsSearch;!function(t){}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.prune=function(t){for(var e={},r=0,n=t.length;n>r;r++){var i=t[r];if(0===r)for(var a in i)e[a]=i[a];else for(var a in e)i[a]||delete e[a]}return e},t}();t.AllWordsMustMatchPruningStrategy=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.prune=function(t){for(var e={},r=0,n=t.length;n>r;r++){var i=t[r];for(var a in i)e[a]=i[a]}return e},t}();t.AnyWordsThatMatchPruningStrategy=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.sanitize=function(t){return t?t.trim():""},t}();t.CaseSensitiveSanitizer=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.sanitize=function(t){return t?t.toLocaleLowerCase().trim():""},t}();t.LowerCaseSanitizer=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){}(JsSearch||(JsSearch={}));var JsSearch;!function(t){}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(){}return t.prototype.tokenize=function(t){return t.split(/[^a-zA-Z0-9\-']+/).filter(function(t){return!!t})},t}();t.SimpleTokenizer=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function e(e){this.uidFieldName_=e,this.indexStrategy_=new t.PrefixIndexStrategy,this.pruningStrategy=new t.AllWordsMustMatchPruningStrategy,this.sanitizer_=new t.LowerCaseSanitizer,this.tokenizer_=new t.SimpleTokenizer,this.documents_=[],this.searchableFieldsMap_={},this.searchIndex_={}}return Object.defineProperty(e.prototype,"indexStrategy",{get:function(){return this.indexStrategy_},set:function(t){if(this.initialized_)throw Error("IIndexStrategy cannot be set after initialization");this.indexStrategy_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pruningStrategy",{get:function(){return this.pruningStrategy_},set:function(t){this.pruningStrategy_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sanitizer",{get:function(){return this.sanitizer_},set:function(t){if(this.initialized_)throw Error("ISanitizer cannot be set after initialization");this.sanitizer_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenizer",{get:function(){return this.tokenizer_},set:function(t){if(this.initialized_)throw Error("ITokenizer cannot be set after initialization");this.tokenizer_=t},enumerable:!0,configurable:!0}),e.prototype.addDocument=function(t){this.addDocuments([t])},e.prototype.addDocuments=function(t){this.documents_.push.apply(this.documents_,t),this.indexDocuments_(t,Object.keys(this.searchableFieldsMap_))},e.prototype.addIndex=function(t){this.searchableFieldsMap_[t]=!0,this.indexDocuments_(this.documents_,[t])},e.prototype.search=function(t){for(var e=this.tokenizer_.tokenize(this.sanitizer_.sanitize(t)),r=[],n=0,i=e.length;i>n;n++){var a=e[n];r.push(this.searchIndex_[a]||{})}var o=this.pruningStrategy_.prune(r),s=[];for(var c in o)s.push(o[c]);return s},e.prototype.indexDocuments_=function(t,e){this.initialized_=!0;for(var r=0,n=t.length;n>r;r++)for(var i=t[r],a=i[this.uidFieldName_],o=0,s=e.length;s>o;o++){var c=e[o],h=i[c];if("string"==typeof h)for(var u=this.tokenizer_.tokenize(this.sanitizer_.sanitize(h)),f=0,S=u.length;S>f;f++)for(var p=u[f],d=this.indexStrategy_.expandToken(p),g=0,v=d.length;v>g;g++){var J=d[g];this.searchIndex_[J]||(this.searchIndex_[J]={}),this.searchIndex_[J][a]=i}}},e}();t.Search=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function t(t,e){this.stemmingFunction_=t,this.tokenizer_=e}return t.prototype.tokenize=function(t){return this.tokenizer_.tokenize(t).map(function(t){return this.stemmingFunction_(t)},this)},t}();t.StemmingTokenizer=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function e(t){this.tokenizer_=t}return e.prototype.tokenize=function(e){return this.tokenizer_.tokenize(e).filter(function(e){return!t.StopWordsMap[e]})},e}();t.StopWordsTokenizer=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){var e=function(){function e(e,r,n){this.indexStrategy_=e||new t.PrefixIndexStrategy,this.sanitizer_=r||new t.LowerCaseSanitizer,this.wrapperTagName_=n||"mark"}return e.prototype.highlight=function(t,e){for(var r=this.wrapText_("").length,n={},i=0,a=e.length;a>i;i++)for(var o=this.sanitizer_.sanitize(e[i]),s=this.indexStrategy_.expandToken(o),c=0,h=s.length;h>c;c++){var u=s[c];n[u]?n[u].push(o):n[u]=[o]}for(var f="",S="",p=0,i=0,d=t.length;d>i;i++){var g=t.charAt(i);" "===g?(f="",S="",p=i+1):(f+=g,S+=this.sanitizer_.sanitize(g)),n[S]&&n[S].indexOf(S)>=0&&(f=this.wrapText_(f),t=t.substring(0,p)+f+t.substring(i+1),i+=r,d+=r)}return t},e.prototype.wrapText_=function(t){return"<"+this.wrapperTagName_+">"+t+"</"+this.wrapperTagName_+">"},e}();t.TokenHighlighter=e}(JsSearch||(JsSearch={}));var JsSearch;!function(t){t.StopWordsMap={a:!0,about:!0,an:!0,and:!0,are:!0,as:!0,at:!0,be:!0,by:!0,"for":!0,from:!0,how:!0,i:!0,"in":!0,is:!0,it:!0,of:!0,on:!0,or:!0,that:!0,the:!0,"this":!0,to:!0,was:!0,what:!0,when:!0,where:!0,who:!0,will:!0,"with":!0}}(JsSearch||(JsSearch={}));